<section class="p-6 max-w-xl mx-auto text-black dark:bg-graphite dark:text-light">
  <div class="flex justify-between mb-4">
    <h2 class="text-3xl font-extrabold">Let’s Frame Your Story</h2>
    <button class="px-2 py-1 rounded border" (click)="toggleTheme()">
      {{ darkMode ? '☀️' : '🌙' }}
    </button>
  </div>

  <div *ngIf="step === 1" @fade class="space-y-4">
    <p class="mb-2">What are you looking for?</p>
    <div class="grid grid-cols-2 gap-4">
      <button
        *ngFor="let cat of categories"
        class="p-4 rounded-lg shadow hover:shadow-lg transition dark:bg-surface"
        (click)="selectCategory(cat)"
      >
        <span class="text-2xl mr-2">{{ cat.icon }}</span>{{ cat.label }}
      </button>
    </div>
  </div>

  <form *ngIf="step === 2" #form="ngForm" @fade (ngSubmit)="onSubmit()" class="space-y-4">
    <button type="button" class="text-sm underline" (click)="backToCategories()">← back</button>
    <p class="text-lg flex items-center gap-2">
      <span class="text-2xl">{{ selectedCategory?.icon }}</span>
      {{ selectedCategory?.intro }}
    </p>
    <div>
      <label class="block mb-1" for="name">Name</label>
      <input id="name" name="name" [(ngModel)]="name" required class="w-full p-2 rounded border" />
    </div>
    <div>
      <label class="block mb-1" for="email">Email</label>
      <input id="email" name="email" type="email" [(ngModel)]="email" required class="w-full p-2 rounded border" />
    </div>
    <div>
      <label class="block mb-1" for="message">Message</label>
      <textarea id="message" name="message" rows="4" [(ngModel)]="message" required class="w-full p-2 rounded border" [placeholder]="selectedCategory?.placeholder"></textarea>
    </div>
    <div>
      <label class="block mb-1" for="creativeTitle">If this shoot had a movie title, what would it be?</label>
      <input id="creativeTitle" name="creativeTitle" [(ngModel)]="creativeTitle" class="w-full p-2 rounded border" />
    </div>
    <button type="submit" [disabled]="!form.valid" class="w-full py-2 bg-emerald text-white rounded hover:bg-emerald/90">
      {{ selectedCategory?.cta }}
    </button>
    <p *ngIf="submitted" class="text-center mt-2">📸 Thanks! I’ll be in touch soon.</p>
  </form>
</section>
